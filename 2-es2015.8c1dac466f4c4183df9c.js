(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{iAaP:function(t,n,o){"use strict";o.r(n),o.d(n,"ListCatalogModule",(function(){return w}));var e=o("ofXK"),i=o("tyNb"),c=o("fXoL"),a=o("3Pt+"),r=o("+sNG"),s=o("kmnG"),m=o("qFsG"),u=o("Fe25");const b=function(t){return["/details",t]};function g(t,n){if(1&t&&c.Mb(0,"app-card",14),2&t){const t=n.$implicit;c.gc("thumbnail",t.thumbnail)("title",t.title)("url",c.jc(3,b,t.id))}}function l(t,n){if(1&t){const t=c.Rb();c.Qb(0,"button",15),c.Yb("click",(function(){return c.oc(t),c.bc(3).prevPage()})),c.vc(1,"previus page"),c.Pb()}}function f(t,n){if(1&t){const t=c.Rb();c.Qb(0,"button",15),c.Yb("click",(function(){return c.oc(t),c.bc(3).nextPage()})),c.vc(1,"next page"),c.Pb()}}function h(t,n){if(1&t){const t=c.Rb();c.Qb(0,"div",1),c.Qb(1,"div",8),c.uc(2,g,1,5,"app-card",9),c.Pb(),c.Qb(3,"div",10),c.Qb(4,"form",11),c.Yb("ngSubmit",(function(){return c.oc(t),c.bc(2).changePage()})),c.uc(5,l,2,0,"button",12),c.Qb(6,"mat-form-field",3),c.Qb(7,"mat-label"),c.vc(8),c.Pb(),c.Mb(9,"input",13),c.Pb(),c.uc(10,f,2,0,"button",12),c.Pb(),c.Pb(),c.Pb()}if(2&t){const t=c.bc(2);c.Bb(2),c.gc("ngForOf",t.comics.comics),c.Bb(2),c.gc("formGroup",t.pagination),c.Bb(1),c.gc("ngIf",t.currentPage>0),c.Bb(3),c.xc("page (of ",t.totalPages,")"),c.Bb(2),c.gc("ngIf",t.currentPage<t.totalPages-1)}}function p(t,n){if(1&t&&(c.Qb(0,"section"),c.uc(1,h,11,5,"div",7),c.Pb()),2&t){const t=c.bc();c.Bb(1),c.gc("ngIf",t.comics)}}function d(t,n){1&t&&(c.Qb(0,"section"),c.Qb(1,"div",1),c.Qb(2,"i"),c.vc(3,"Sorry, no comics were found"),c.Pb(),c.Pb(),c.Pb())}const P=[{path:"",component:(()=>{class t{constructor(t,n,o,e){this.formBuilder=t,this.apiService=n,this.router=o,this.route=e}ngOnInit(){this.createForm(),this.getData("")}getData(t){this.router.url.includes("comics-character")?this.apiService.getComicsByCharacterId(this.route.snapshot.params.id,t.toString()).subscribe(t=>{this.name=decodeURI(this.route.snapshot.params.name),t.comics.length?this.setData(t):this.notFound=!0}):this.apiService.getComics(t.toString()).subscribe(t=>{t.comics.length?this.setData(t):this.notFound=!0})}setData(t){this.comics=t,this.currentPage=this.comics.offset/this.comics.limit,this.pagination.patchValue({pageNumber:this.currentPage+1}),this.totalPages=Math.ceil(this.comics.total/this.comics.limit)}performSearch(){const t=encodeURI(this.searchCharacter.getRawValue().wordSearch);this.router.navigate(["/search-character",t])}changePage(){const t=this.pagination.getRawValue();this.getData(t.pageNumber*this.comics.limit-this.comics.limit)}nextPage(){const t=this.pagination.getRawValue();this.getData(t.pageNumber*this.comics.limit)}prevPage(){const t=this.pagination.getRawValue();this.getData((t.pageNumber-1)*this.comics.limit-this.comics.limit)}createForm(){this.searchCharacter=this.formBuilder.group({wordSearch:[""]}),this.pagination=this.formBuilder.group({pageNumber:[""]})}}return t.\u0275fac=function(n){return new(n||t)(c.Lb(a.b),c.Lb(r.a),c.Lb(i.b),c.Lb(i.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-list-catalog"]],decls:13,vars:4,consts:[[1,"main-content"],[1,"container"],[1,"form-searchContainer",3,"formGroup","ngSubmit"],["appearance","fill"],["formControlName","wordSearch","matInput",""],["type","submit",1,"background-color-second-color-theme"],[4,"ngIf"],["class","container",4,"ngIf"],["id","card-container"],[3,"thumbnail","title","url",4,"ngFor","ngForOf"],[1,"pagination"],[1,"form-paginationContainer",3,"formGroup","ngSubmit"],["type","button","class","background-color-second-color-theme",3,"click",4,"ngIf"],["formControlName","pageNumber","matInput",""],[3,"thumbnail","title","url"],["type","button",1,"background-color-second-color-theme",3,"click"]],template:function(t,n){1&t&&(c.Qb(0,"section",0),c.Qb(1,"div",1),c.Qb(2,"h1"),c.vc(3),c.Pb(),c.Qb(4,"form",2),c.Yb("ngSubmit",(function(){return n.performSearch()})),c.Qb(5,"mat-form-field",3),c.Qb(6,"mat-label"),c.vc(7,"Search by character name"),c.Pb(),c.Mb(8,"input",4),c.Pb(),c.Qb(9,"button",5),c.vc(10,"go"),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.uc(11,p,2,1,"section",6),c.uc(12,d,4,0,"section",6)),2&t&&(c.Bb(3),c.xc("All ",n.router.url.includes("comics-character")?n.name:""," comics"),c.Bb(1),c.gc("formGroup",n.searchCharacter),c.Bb(7),c.gc("ngIf",!n.notFound),c.Bb(1),c.gc("ngIf",n.notFound))},directives:[a.l,a.i,a.d,s.a,s.d,a.a,m.a,a.h,a.c,e.k,e.j,u.a],styles:["[_nghost-%COMP%]     .form-searchContainer .mat-form-field{max-width:500px;width:100%}.form-searchContainer[_ngcontent-%COMP%]{display:flex;justify-content:center}[_nghost-%COMP%]     .mat-form-field-ripple, [_nghost-%COMP%]     .mat-form-field-underline:before, [_nghost-%COMP%]     .mat-form-field.mat-focused .mat-form-field-ripple{background-color:#f22613!important}[_nghost-%COMP%]     .mat-form-field.mat-focused .mat-form-field-label{color:#f22613!important}button[_ngcontent-%COMP%]{margin-left:15px;min-width:100px}#card-container[_ngcontent-%COMP%]{flex-wrap:wrap}#card-container[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;justify-content:center}.pagination[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-top:30px;width:100%}.pagination[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:15px}.pagination[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 15px}[_nghost-%COMP%]     .form-paginationContainer .mat-form-field{max-width:130px;width:100%}h1[_ngcontent-%COMP%]{text-align:center}"]}),t})()}];let C=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(n){return new(n||t)},imports:[[i.d.forChild(P)],i.d]}),t})();var M=o("PCNd");let w=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(n){return new(n||t)},imports:[[e.c,C,s.c,m.b,a.e,a.k,M.a]]}),t})()}}]);