function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,n,e){return n&&_defineProperties(t.prototype,n),e&&_defineProperties(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{iAaP:function(t,n,e){"use strict";e.r(n),e.d(n,"ListCatalogModule",(function(){return k}));var i=e("ofXK"),o=e("tyNb"),a=e("fXoL"),c=e("3Pt+"),r=e("+sNG"),s=e("kmnG"),u=e("qFsG"),l=e("Fe25"),m=function(t){return["/details",t]};function f(t,n){if(1&t&&a.Mb(0,"app-card",14),2&t){var e=n.$implicit;a.gc("thumbnail",e.thumbnail)("title",e.title)("url",a.jc(3,m,e.id))}}function b(t,n){if(1&t){var e=a.Rb();a.Qb(0,"button",15),a.Yb("click",(function(){return a.oc(e),a.bc(3).prevPage()})),a.vc(1,"previus page"),a.Pb()}}function g(t,n){if(1&t){var e=a.Rb();a.Qb(0,"button",15),a.Yb("click",(function(){return a.oc(e),a.bc(3).nextPage()})),a.vc(1,"next page"),a.Pb()}}function h(t,n){if(1&t){var e=a.Rb();a.Qb(0,"div",1),a.Qb(1,"div",8),a.uc(2,f,1,5,"app-card",9),a.Pb(),a.Qb(3,"div",10),a.Qb(4,"form",11),a.Yb("ngSubmit",(function(){return a.oc(e),a.bc(2).changePage()})),a.uc(5,b,2,0,"button",12),a.Qb(6,"mat-form-field",3),a.Qb(7,"mat-label"),a.vc(8),a.Pb(),a.Mb(9,"input",13),a.Pb(),a.uc(10,g,2,0,"button",12),a.Pb(),a.Pb(),a.Pb()}if(2&t){var i=a.bc(2);a.Bb(2),a.gc("ngForOf",i.comics.comics),a.Bb(2),a.gc("formGroup",i.pagination),a.Bb(1),a.gc("ngIf",i.currentPage>0),a.Bb(3),a.xc("page (of ",i.totalPages,")"),a.Bb(2),a.gc("ngIf",i.currentPage<i.totalPages-1)}}function p(t,n){if(1&t&&(a.Qb(0,"section"),a.uc(1,h,11,5,"div",7),a.Pb()),2&t){var e=a.bc();a.Bb(1),a.gc("ngIf",e.comics)}}function d(t,n){1&t&&(a.Qb(0,"section"),a.Qb(1,"div",1),a.Qb(2,"i"),a.vc(3,"Sorry, no comics were found"),a.Pb(),a.Pb(),a.Pb())}var P,C,v,_=[{path:"",component:(P=function(){function t(n,e,i,o){_classCallCheck(this,t),this.formBuilder=n,this.apiService=e,this.router=i,this.route=o}return _createClass(t,[{key:"ngOnInit",value:function(){this.createForm(),this.getData("")}},{key:"getData",value:function(t){var n=this;this.router.url.includes("comics-character")?this.apiService.getComicsByCharacterId(this.route.snapshot.params.id,t.toString()).subscribe((function(t){n.name=decodeURI(n.route.snapshot.params.name),t.comics.length?n.setData(t):n.notFound=!0})):this.apiService.getComics(t.toString()).subscribe((function(t){t.comics.length?n.setData(t):n.notFound=!0}))}},{key:"setData",value:function(t){this.comics=t,this.currentPage=this.comics.offset/this.comics.limit,this.pagination.patchValue({pageNumber:this.currentPage+1}),this.totalPages=Math.ceil(this.comics.total/this.comics.limit)}},{key:"performSearch",value:function(){var t=encodeURI(this.searchCharacter.getRawValue().wordSearch);this.router.navigate(["/search-character",t])}},{key:"changePage",value:function(){var t=this.pagination.getRawValue();this.getData(t.pageNumber*this.comics.limit-this.comics.limit)}},{key:"nextPage",value:function(){var t=this.pagination.getRawValue();this.getData(t.pageNumber*this.comics.limit)}},{key:"prevPage",value:function(){var t=this.pagination.getRawValue();this.getData((t.pageNumber-1)*this.comics.limit-this.comics.limit)}},{key:"createForm",value:function(){this.searchCharacter=this.formBuilder.group({wordSearch:[""]}),this.pagination=this.formBuilder.group({pageNumber:[""]})}}]),t}(),P.\u0275fac=function(t){return new(t||P)(a.Lb(c.b),a.Lb(r.a),a.Lb(o.b),a.Lb(o.a))},P.\u0275cmp=a.Fb({type:P,selectors:[["app-list-catalog"]],decls:13,vars:4,consts:[[1,"main-content"],[1,"container"],[1,"form-searchContainer",3,"formGroup","ngSubmit"],["appearance","fill"],["formControlName","wordSearch","matInput",""],["type","submit",1,"background-color-second-color-theme"],[4,"ngIf"],["class","container",4,"ngIf"],["id","card-container"],[3,"thumbnail","title","url",4,"ngFor","ngForOf"],[1,"pagination"],[1,"form-paginationContainer",3,"formGroup","ngSubmit"],["type","button","class","background-color-second-color-theme",3,"click",4,"ngIf"],["formControlName","pageNumber","matInput",""],[3,"thumbnail","title","url"],["type","button",1,"background-color-second-color-theme",3,"click"]],template:function(t,n){1&t&&(a.Qb(0,"section",0),a.Qb(1,"div",1),a.Qb(2,"h1"),a.vc(3),a.Pb(),a.Qb(4,"form",2),a.Yb("ngSubmit",(function(){return n.performSearch()})),a.Qb(5,"mat-form-field",3),a.Qb(6,"mat-label"),a.vc(7,"Search by character name"),a.Pb(),a.Mb(8,"input",4),a.Pb(),a.Qb(9,"button",5),a.vc(10,"go"),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.uc(11,p,2,1,"section",6),a.uc(12,d,4,0,"section",6)),2&t&&(a.Bb(3),a.xc("All ",n.router.url.includes("comics-character")?n.name:""," comics"),a.Bb(1),a.gc("formGroup",n.searchCharacter),a.Bb(7),a.gc("ngIf",!n.notFound),a.Bb(1),a.gc("ngIf",n.notFound))},directives:[c.l,c.i,c.d,s.a,s.d,c.a,u.a,c.h,c.c,i.k,i.j,l.a],styles:["[_nghost-%COMP%]     .form-searchContainer .mat-form-field{max-width:500px;width:100%}.form-searchContainer[_ngcontent-%COMP%]{display:flex;justify-content:center}[_nghost-%COMP%]     .mat-form-field-ripple, [_nghost-%COMP%]     .mat-form-field-underline:before, [_nghost-%COMP%]     .mat-form-field.mat-focused .mat-form-field-ripple{background-color:#f22613!important}[_nghost-%COMP%]     .mat-form-field.mat-focused .mat-form-field-label{color:#f22613!important}button[_ngcontent-%COMP%]{margin-left:15px;min-width:100px}#card-container[_ngcontent-%COMP%]{flex-wrap:wrap}#card-container[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;justify-content:center}.pagination[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-top:30px;width:100%}.pagination[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:15px}.pagination[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 15px}[_nghost-%COMP%]     .form-paginationContainer .mat-form-field{max-width:130px;width:100%}h1[_ngcontent-%COMP%]{text-align:center}"]}),P)}],y=((C=function t(){_classCallCheck(this,t)}).\u0275mod=a.Jb({type:C}),C.\u0275inj=a.Ib({factory:function(t){return new(t||C)},imports:[[o.d.forChild(_)],o.d]}),C),w=e("PCNd"),k=((v=function t(){_classCallCheck(this,t)}).\u0275mod=a.Jb({type:v}),v.\u0275inj=a.Ib({factory:function(t){return new(t||v)},imports:[[i.c,y,s.c,u.b,c.e,c.k,w.a]]}),v)}}]);