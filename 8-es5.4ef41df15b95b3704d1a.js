function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{K3O7:function(t,e,n){"use strict";n.r(e),n.d(e,"SearchCharacterModule",(function(){return M}));var r=n("ofXK"),a=n("tyNb"),c=n("fXoL"),o=n("+sNG"),i=n("3Pt+"),u=n("kmnG"),s=n("qFsG"),f=n("Fe25"),h=function(t,e){return["/comics-character",t,e]};function b(t,e){if(1&t&&c.Mb(0,"app-card",14),2&t){var n=e.$implicit,r=c.bc(3);c.gc("thumbnail",n.thumbnail)("title",n.name)("url",c.kc(5,h,n.id,r.fnEncodeURI(n.name)))("comicAmount",n.comicsAmount)("description",n.description)}}function l(t,e){if(1&t){var n=c.Rb();c.Qb(0,"button",15),c.Yb("click",(function(){return c.oc(n),c.bc(3).prevPage()})),c.vc(1,"previus page"),c.Pb()}}function g(t,e){if(1&t){var n=c.Rb();c.Qb(0,"button",15),c.Yb("click",(function(){return c.oc(n),c.bc(3).nextPage()})),c.vc(1,"next page"),c.Pb()}}function m(t,e){if(1&t){var n=c.Rb();c.Qb(0,"div",1),c.Qb(1,"div",8),c.uc(2,b,1,8,"app-card",9),c.Pb(),c.Qb(3,"div",10),c.Qb(4,"form",11),c.Yb("ngSubmit",(function(){return c.oc(n),c.bc(2).changePage()})),c.uc(5,l,2,0,"button",12),c.Qb(6,"mat-form-field",3),c.Qb(7,"mat-label"),c.vc(8),c.Pb(),c.Mb(9,"input",13),c.Pb(),c.uc(10,g,2,0,"button",12),c.Pb(),c.Pb(),c.Pb()}if(2&t){var r=c.bc(2);c.Bb(2),c.gc("ngForOf",r.characters.characters),c.Bb(2),c.gc("formGroup",r.pagination),c.Bb(1),c.gc("ngIf",r.currentPage>0),c.Bb(3),c.xc("page (of ",r.totalPages,")"),c.Bb(2),c.gc("ngIf",r.currentPage<r.totalPages-1)}}function p(t,e){if(1&t&&(c.Qb(0,"section"),c.uc(1,m,11,5,"div",7),c.Pb()),2&t){var n=c.bc();c.Bb(1),c.gc("ngIf",n.characters)}}function d(t,e){1&t&&(c.Qb(0,"section"),c.Qb(1,"div",1),c.Qb(2,"i"),c.vc(3,"Sorry, no characters were found"),c.Pb(),c.Pb(),c.Pb())}var P,C,v,w=[{path:"",component:(P=function(){function t(e,n,r,a){_classCallCheck(this,t),this.route=e,this.apiService=n,this.formBuilder=r,this.router=a,this.currentPage=0}return _createClass(t,[{key:"ngOnInit",value:function(){this.currentWord=decodeURI(this.route.snapshot.params.wordSearch),this.createForm(),this.getData("")}},{key:"getData",value:function(t){var e=this;this.apiService.getCharactersByNameStartsWithWord(this.currentWord,t.toString()).subscribe((function(t){t.characters.length?(e.characters=t,e.currentPage=e.characters.offset/e.characters.limit,e.pagination.patchValue({pageNumber:e.currentPage+1}),e.totalPages=Math.ceil(e.characters.total/e.characters.limit)):e.notFound=!0}))}},{key:"performSearch",value:function(){this.currentWord=this.searchCharacter.getRawValue().wordSearch,this.router.navigate(["/search-character",encodeURI(this.currentWord)]),this.getData("")}},{key:"changePage",value:function(){var t=this.pagination.getRawValue();this.getData(t.pageNumber*this.characters.limit-this.characters.limit)}},{key:"nextPage",value:function(){var t=this.pagination.getRawValue();this.getData(t.pageNumber*this.characters.limit)}},{key:"prevPage",value:function(){var t=this.pagination.getRawValue();this.getData((t.pageNumber-1)*this.characters.limit-this.characters.limit)}},{key:"createForm",value:function(){this.searchCharacter=this.formBuilder.group({wordSearch:[""]}),this.pagination=this.formBuilder.group({pageNumber:[""]}),this.searchCharacter.patchValue({wordSearch:this.currentWord})}},{key:"fnEncodeURI",value:function(t){return encodeURI(t)}}]),t}(),P.\u0275fac=function(t){return new(t||P)(c.Lb(a.a),c.Lb(o.a),c.Lb(i.b),c.Lb(a.b))},P.\u0275cmp=c.Fb({type:P,selectors:[["app-search-character"]],decls:13,vars:3,consts:[[1,"main-content"],[1,"container"],[1,"form-searchContainer",3,"formGroup","ngSubmit"],["appearance","fill"],["formControlName","wordSearch","matInput",""],["type","submit",1,"background-color-second-color-theme"],[4,"ngIf"],["class","container",4,"ngIf"],["id","card-container"],[3,"thumbnail","title","url","comicAmount","description",4,"ngFor","ngForOf"],[1,"pagination"],[1,"form-paginationContainer",3,"formGroup","ngSubmit"],["type","button","class","background-color-second-color-theme",3,"click",4,"ngIf"],["formControlName","pageNumber","matInput",""],[3,"thumbnail","title","url","comicAmount","description"],["type","button",1,"background-color-second-color-theme",3,"click"]],template:function(t,e){1&t&&(c.Qb(0,"section",0),c.Qb(1,"div",1),c.Qb(2,"h1"),c.vc(3,"Characters"),c.Pb(),c.Qb(4,"form",2),c.Yb("ngSubmit",(function(){return e.performSearch()})),c.Qb(5,"mat-form-field",3),c.Qb(6,"mat-label"),c.vc(7,"Search by character name"),c.Pb(),c.Mb(8,"input",4),c.Pb(),c.Qb(9,"button",5),c.vc(10,"go"),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.uc(11,p,2,1,"section",6),c.uc(12,d,4,0,"section",6)),2&t&&(c.Bb(4),c.gc("formGroup",e.searchCharacter),c.Bb(7),c.gc("ngIf",!e.notFound),c.Bb(1),c.gc("ngIf",e.notFound))},directives:[i.l,i.i,i.d,u.a,u.d,i.a,s.a,i.h,i.c,r.k,r.j,f.a],styles:["[_nghost-%COMP%]     .form-searchContainer .mat-form-field{max-width:500px;width:100%}.form-searchContainer[_ngcontent-%COMP%]{display:flex;justify-content:center}[_nghost-%COMP%]     .mat-form-field-ripple, [_nghost-%COMP%]     .mat-form-field-underline:before, [_nghost-%COMP%]     .mat-form-field.mat-focused .mat-form-field-ripple{background-color:#f22613!important}[_nghost-%COMP%]     .mat-form-field.mat-focused .mat-form-field-label{color:#f22613!important}button[_ngcontent-%COMP%]{margin-left:15px;min-width:100px}#card-container[_ngcontent-%COMP%]{flex-wrap:wrap}#card-container[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;justify-content:center}.pagination[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-top:30px;width:100%}.pagination[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:15px}.pagination[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 15px}[_nghost-%COMP%]     .form-paginationContainer .mat-form-field{max-width:130px;width:100%}h1[_ngcontent-%COMP%]{text-align:center}"]}),P)}],_=((C=function t(){_classCallCheck(this,t)}).\u0275mod=c.Jb({type:C}),C.\u0275inj=c.Ib({factory:function(t){return new(t||C)},imports:[[a.d.forChild(w)],a.d]}),C),y=n("Qu3c"),k=n("PCNd"),M=((v=function t(){_classCallCheck(this,t)}).\u0275mod=c.Jb({type:v}),v.\u0275inj=c.Ib({factory:function(t){return new(t||v)},imports:[[r.c,_,i.e,i.k,u.c,s.b,i.k,y.b,k.a]]}),v)}}]);