(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{K3O7:function(t,n,e){"use strict";e.r(n),e.d(n,"SearchCharacterModule",(function(){return O}));var r=e("ofXK"),a=e("tyNb"),c=e("fXoL"),o=e("+sNG"),i=e("3Pt+"),s=e("kmnG"),h=e("qFsG"),u=e("Fe25");const b=function(t,n){return["/comics-character",t,n]};function g(t,n){if(1&t&&c.Mb(0,"app-card",14),2&t){const t=n.$implicit,e=c.bc(3);c.gc("thumbnail",t.thumbnail)("title",t.name)("url",c.kc(5,b,t.id,e.fnEncodeURI(t.name)))("comicAmount",t.comicsAmount)("description",t.description)}}function m(t,n){if(1&t){const t=c.Rb();c.Qb(0,"button",15),c.Yb("click",(function(){return c.oc(t),c.bc(3).prevPage()})),c.vc(1,"previus page"),c.Pb()}}function f(t,n){if(1&t){const t=c.Rb();c.Qb(0,"button",15),c.Yb("click",(function(){return c.oc(t),c.bc(3).nextPage()})),c.vc(1,"next page"),c.Pb()}}function p(t,n){if(1&t){const t=c.Rb();c.Qb(0,"div",1),c.Qb(1,"div",8),c.uc(2,g,1,8,"app-card",9),c.Pb(),c.Qb(3,"div",10),c.Qb(4,"form",11),c.Yb("ngSubmit",(function(){return c.oc(t),c.bc(2).changePage()})),c.uc(5,m,2,0,"button",12),c.Qb(6,"mat-form-field",3),c.Qb(7,"mat-label"),c.vc(8),c.Pb(),c.Mb(9,"input",13),c.Pb(),c.uc(10,f,2,0,"button",12),c.Pb(),c.Pb(),c.Pb()}if(2&t){const t=c.bc(2);c.Bb(2),c.gc("ngForOf",t.characters.characters),c.Bb(2),c.gc("formGroup",t.pagination),c.Bb(1),c.gc("ngIf",t.currentPage>0),c.Bb(3),c.xc("page (of ",t.totalPages,")"),c.Bb(2),c.gc("ngIf",t.currentPage<t.totalPages-1)}}function l(t,n){if(1&t&&(c.Qb(0,"section"),c.uc(1,p,11,5,"div",7),c.Pb()),2&t){const t=c.bc();c.Bb(1),c.gc("ngIf",t.characters)}}function d(t,n){1&t&&(c.Qb(0,"section"),c.Qb(1,"div",1),c.Qb(2,"i"),c.vc(3,"Sorry, no characters were found"),c.Pb(),c.Pb(),c.Pb())}const P=[{path:"",component:(()=>{class t{constructor(t,n,e,r){this.route=t,this.apiService=n,this.formBuilder=e,this.router=r,this.currentPage=0}ngOnInit(){this.currentWord=decodeURI(this.route.snapshot.params.wordSearch),this.createForm(),this.getData("")}getData(t){this.apiService.getCharactersByNameStartsWithWord(this.currentWord,t.toString()).subscribe(t=>{t.characters.length?(this.characters=t,this.currentPage=this.characters.offset/this.characters.limit,this.pagination.patchValue({pageNumber:this.currentPage+1}),this.totalPages=Math.ceil(this.characters.total/this.characters.limit)):this.notFound=!0})}performSearch(){this.currentWord=this.searchCharacter.getRawValue().wordSearch,this.router.navigate(["/search-character",encodeURI(this.currentWord)]),this.getData("")}changePage(){const t=this.pagination.getRawValue();this.getData(t.pageNumber*this.characters.limit-this.characters.limit)}nextPage(){const t=this.pagination.getRawValue();this.getData(t.pageNumber*this.characters.limit)}prevPage(){const t=this.pagination.getRawValue();this.getData((t.pageNumber-1)*this.characters.limit-this.characters.limit)}createForm(){this.searchCharacter=this.formBuilder.group({wordSearch:[""]}),this.pagination=this.formBuilder.group({pageNumber:[""]}),this.searchCharacter.patchValue({wordSearch:this.currentWord})}fnEncodeURI(t){return encodeURI(t)}}return t.\u0275fac=function(n){return new(n||t)(c.Lb(a.a),c.Lb(o.a),c.Lb(i.b),c.Lb(a.b))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-search-character"]],decls:13,vars:3,consts:[[1,"main-content"],[1,"container"],[1,"form-searchContainer",3,"formGroup","ngSubmit"],["appearance","fill"],["formControlName","wordSearch","matInput",""],["type","submit",1,"background-color-second-color-theme"],[4,"ngIf"],["class","container",4,"ngIf"],["id","card-container"],[3,"thumbnail","title","url","comicAmount","description",4,"ngFor","ngForOf"],[1,"pagination"],[1,"form-paginationContainer",3,"formGroup","ngSubmit"],["type","button","class","background-color-second-color-theme",3,"click",4,"ngIf"],["formControlName","pageNumber","matInput",""],[3,"thumbnail","title","url","comicAmount","description"],["type","button",1,"background-color-second-color-theme",3,"click"]],template:function(t,n){1&t&&(c.Qb(0,"section",0),c.Qb(1,"div",1),c.Qb(2,"h1"),c.vc(3,"Characters"),c.Pb(),c.Qb(4,"form",2),c.Yb("ngSubmit",(function(){return n.performSearch()})),c.Qb(5,"mat-form-field",3),c.Qb(6,"mat-label"),c.vc(7,"Search by character name"),c.Pb(),c.Mb(8,"input",4),c.Pb(),c.Qb(9,"button",5),c.vc(10,"go"),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.uc(11,l,2,1,"section",6),c.uc(12,d,4,0,"section",6)),2&t&&(c.Bb(4),c.gc("formGroup",n.searchCharacter),c.Bb(7),c.gc("ngIf",!n.notFound),c.Bb(1),c.gc("ngIf",n.notFound))},directives:[i.l,i.i,i.d,s.a,s.d,i.a,h.a,i.h,i.c,r.k,r.j,u.a],styles:["[_nghost-%COMP%]     .form-searchContainer .mat-form-field{max-width:500px;width:100%}.form-searchContainer[_ngcontent-%COMP%]{display:flex;justify-content:center}[_nghost-%COMP%]     .mat-form-field-ripple, [_nghost-%COMP%]     .mat-form-field-underline:before, [_nghost-%COMP%]     .mat-form-field.mat-focused .mat-form-field-ripple{background-color:#f22613!important}[_nghost-%COMP%]     .mat-form-field.mat-focused .mat-form-field-label{color:#f22613!important}button[_ngcontent-%COMP%]{margin-left:15px;min-width:100px}#card-container[_ngcontent-%COMP%]{flex-wrap:wrap}#card-container[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;justify-content:center}.pagination[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-top:30px;width:100%}.pagination[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:15px}.pagination[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 15px}[_nghost-%COMP%]     .form-paginationContainer .mat-form-field{max-width:130px;width:100%}h1[_ngcontent-%COMP%]{text-align:center}"]}),t})()}];let C=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(n){return new(n||t)},imports:[[a.d.forChild(P)],a.d]}),t})();var w=e("Qu3c"),M=e("PCNd");let O=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(n){return new(n||t)},imports:[[r.c,C,i.e,i.k,s.c,h.b,i.k,w.b,M.a]]}),t})()}}]);